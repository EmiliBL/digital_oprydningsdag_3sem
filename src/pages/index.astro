---
import MainLayout from "../layouts/MainLayout.astro";
import Button from "../components/Button.astro";
import Link from "../components/Link.astro";
import TextKarussel from "../components/TextKarussel.astro";
import FactsColumn from "../components/FactsColumn.astro";
import InfoColumn from "../components/InfoColumn.astro";
import Graf from "../components/Graf.astro";
import Tips from "../components/Tips.astro";
import Progressbar from "../components/Progressbar.astro";
import Hero from "../components/Hero.astro";
---

<MainLayout title="Titel">
  <Tips />
  <article>
    <Hero />
    <InfoColumn />
    <TextKarussel />
    <FactsColumn />
    <Graf />
  </article>

 <!-- Beregner formular -->
<article class="bg-lime-50 rounded-2xl p-6 flex flex-col justify-center gap-3">
  <!-- CTA´er -->
  <div id="Harddisk" class="flex justify-center">
    <Button variant="tertiary" size="medium">Ryd op på din computer harddisk</Button>
  </div>
  <div class="flex justify-center">
    <Button variant="tertiary" size="medium">Ryd op i dine billeder & videoer</Button>
  </div>
  <div class="flex justify-center">
    <Button variant="tertiary" size="medium">Ryd op på din telefon</Button>
  </div>
  <div class="flex justify-center">
    <Button variant="tertiary" size="medium">Ryd op i dine emails</Button>
  </div>

  <!-- Info afsnit -->
  <section>
    <section id="start">
      <div class="bg-lime-400 rounded-t-lg">
        <h3 id="titel" class="m-4 pt-2 font-bold text-lime-900 text-xl sm:text-5xl md:text-6xl lg:text-7xl font-mono">
          Beregn dit digitale affald
        </h3>
        <p id="p-guide" class="p-4 pt-1 font-mono text-sm font-extralight text-lime-900">
          Vær med til at gøre en forskel. Beregn hvor meget C02 besparelse du kan lave, ved at rydde op i dit digitale aftryk.
        </p>
      </div>
    </section>

    <div class="border-2 border-lime-400 rounded-b-lg p-4">
      <p id="p-proces" class="text-center p-4 pt-4 font-mono text-xs font-extralight text-lime-900">
        Vælg en kategori & beregn dit co2 aftryk.
      </p>
      <Progressbar />

      <!-- CTA´er -->
      <article class="gap-4">
        <div class="mt-4 flex justify-center">
          <a href="/ressourcer">
          <Button variant="secondary" size="medium">Registrer dit bidrag</Button>
        </a>
        </div>
        <div class="mt-2 flex justify-center"> <a href="/beregn">
          <Button variant="primary" size="medium" onclick="visPopUp()">Beregn CO2 bidrag</Button>
        </a></div>
      </article>
    </div>
  </section>

  <!-- Udfald godt klaret -->
  <section id="step3" class="bg-lime-50 rounded-2xl p-6 flex-col justify-center gap-3 text-lime-400 max-w-110 place-self-center hidden mt-10">
    <h2 class="text-4xl font-bold">Du skide god!</h2>
    <h3 class="text-3xl font-bold">Dit bidrag svarer til:</h3>

    <div class="grid grid-cols-2">
      <img class="w-24 h-24" src="../ikoner/blade.svg" alt="blade" />
      <div>
        <h3 class="text-3xl font-bold">51 kWh energi</h3>
        <p>Det er nok til at en elbil kan køre 377 km</p>
      </div>
    </div>
    <div class="grid grid-cols-2">
      <img class="w-24 h-24" src="../ikoner/tre.svg" alt="træ" />
      <div>
        <h3 class="text-3xl font-bold">2 træer</h3>
        <p>Det svarer til det carbon 2 træer absorberer på et år</p>
      </div>
    </div>
  </section>
</article>

<!-- JS til beregneren -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var harddiskButton = document.querySelector("#Harddisk button");
    if (harddiskButton) {
      harddiskButton.addEventListener("click", udfaldSektion);
    }

    var beregnButton = document.querySelector("Button[variant='primary']");
    if (beregnButton) {
      beregnButton.addEventListener("click", visPopUp);
    }
  });

  function udfaldSektion() {
    var titel = document.getElementById("titel");
    var pGuide = document.getElementById("p-guide");
    var pProces = document.getElementById("p-proces");

    titel.textContent = "Rengør harddisk";
    pGuide.textContent = "Du kan rengøre din harddisk ved at slette unødvendige filer.";
    pProces.textContent = "Beregn hvor meget du har ryddet op.";
  }

  function visPopUp() {
    var popUp = document.getElementById("step3");
    if (popUp) {
      popUp.classList.remove("hidden");
      popUp.style.display = "block"; // Sikrer visning
    }
  }
</script>

</MainLayout>
